---
import { ArrowRight, Star } from "lucide-react";
import { motion } from "motion/react";
import { Button } from "@/components/ui/button";
import type { Language, Translations } from "@/i18n/utils";
import { TopPlacesCarousel } from "./components/top-places-carousel";

interface Props {
	lang: Language;
	t: Translations;
}

const { lang, t } = Astro.props;

const topPlaces = [
	{
		title: "Dubai Desert Adventure",
		duration: "7 Days/6 Night",
		rating: 4.5,
		image: "/images/dubai.png",
	},
	{
		title: "Bali: Where Serenity Lives ðŸ§˜",
		duration: "9 Days/8 Night",
		rating: 5,
		image: "/images/bali.png",
	},
	{
		title: "Maldives Magic Unlocked ðŸŒŠ",
		duration: "8 Days/7 Night",
		rating: 4.5,
		image: "/images/maldives.png",
	},
	{
		title: "Tashkent City Tour ðŸ‡ºðŸ‡¿",
		duration: "3 Days/2 Night",
		rating: 4.8,
		image: "/images/dubai.png", // Reusing image for demo
	},
	{
		title: "Samarkand Silk Road ðŸ•Œ",
		duration: "5 Days/4 Night",
		rating: 4.9,
		image: "/images/bali.png", // Reusing image for demo
	},
	{
		title: "Bukhara Ancient Spirit âœ¨",
		duration: "4 Days/3 Night",
		rating: 4.7,
		image: "/images/maldives.png", // Reusing image for demo
	},
];
---

<section class="relative min-h-screen pt-32 pb-20 overflow-hidden">
	<!-- Background Gradients -->
	<div class="absolute top-0 left-0 w-full h-full -z-10 bg-background">
		<div
			class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary/20 blur-[120px]"
		>
		</div>
		<div
			class="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-blue-500/10 blur-[120px]"
		>
		</div>
	</div>

	<div class="container mx-auto px-6">
		<div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-start">
			<!-- Left Content -->
			<div class="lg:col-span-6 pt-10">
				<motion.h1
					initial={{ opacity: 0, y: 20 }}
					animate={{ opacity: 1, y: 0 }}
					transition={{ duration: 0.8 }}
					className="text-4xl lg:text-6xl font-bold tracking-tight text-foreground leading-[1.1]"
					client:load
				>
					From Fragmented Chaos to One Intelligent Journey
				</motion.h1>

				<motion.p
					initial={{ opacity: 0, y: 20 }}
					animate={{ opacity: 1, y: 0 }}
					transition={{ duration: 0.8, delay: 0.2 }}
					className="mt-8 text-lg text-muted-foreground/80 leading-relaxed max-w-xl"
					client:load
				>
					SkySearch turns disconnected searches, tabs, and redirects
					into a single intelligent travel flow â€” planning, booking,
					and guiding your journey across Central Asia.
				</motion.p>

				<motion.div
					initial={{ opacity: 0, y: 20 }}
					animate={{ opacity: 1, y: 0 }}
					transition={{ duration: 0.8, delay: 0.4 }}
					className="mt-10"
					client:load
				>
					<Button
						size="lg"
						className="rounded-full px-8 py-6 text-lg font-medium group bg-foreground text-background hover:bg-foreground/90 transition-all"
					>
						Explore More
						<ArrowRight
							className="ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"
						/>
					</Button>
				</motion.div>
			</div>

			<!-- Right Content (Image with Cutout) -->
			<div class="lg:col-span-6 relative group">
				<motion.div
					initial={{ opacity: 0, scale: 0.95 }}
					animate={{ opacity: 1, scale: 1 }}
					transition={{ duration: 1 }}
					className="relative"
					client:load
				>
					<!-- The Image with mask/clip-path -->
					<div
						class="relative w-full aspect-4/3 rounded-[3rem] overflow-hidden hero-image-container"
					>
						<img
							src="/images/hero-sunset.png"
							alt="Travel Hero"
							class="w-full h-full object-cover"
						/>

						<!-- Overlay Info -->
						<div
							class="absolute bottom-8 right-8 bg-black/40 backdrop-blur-xl border border-white/10 rounded-full py-2 px-4 flex items-center gap-3"
						>
							<div class="flex -space-x-3">
								{
									[1, 2, 3].map((i) => (
										<div class="w-10 h-10 rounded-full border-2 border-background overflow-hidden bg-muted">
											<img
												src={`https://api.dicebear.com/7.x/avataaars/svg?seed=${i + 1}`}
												alt="Avatar"
											/>
										</div>
									))
								}
							</div>
							<div class="flex flex-col">
								<span
									class="text-white font-bold text-sm tracking-tight"
									>100k</span
								>
								<span
									class="text-white/60 text-[10px] uppercase font-semibold"
									>People loved</span
								>
							</div>
						</div>
					</div>
				</motion.div>
			</div>
		</div>

		<!-- Top Places Section -->
		<div class="mt-32">
			<motion.h2
				initial={{ opacity: 0, x: -20 }}
				whileInView={{ opacity: 1, x: 0 }}
				viewport={{ once: true }}
				className="text-2xl font-bold text-foreground mb-8"
				client:load
			>
				Top places to Travel
			</motion.h2>

			<div class="-mx-6">
				<TopPlacesCarousel places={topPlaces} client:load />
			</div>
		</div>
	</div>
</section>

<style>
	.hero-image-container {
		/* Cutout effect mimicking the screenshot */
		mask-image: url("data:image/svg+xml,%3Csvg width='800' height='600' viewBox='0 0 800 600' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M800 60C800 26.8629 773.137 0 740 0H240C206.863 0 180 26.8629 180 60V120C180 153.137 153.137 180 120 180H60C26.8629 180 0 206.863 0 240V540C0 573.137 26.8629 600 60 600H740C773.137 600 800 573.137 800 540V60Z' fill='black'/%3E%3C/svg%3E");
		mask-size: cover;
		mask-repeat: no-repeat;
	}
</style>
